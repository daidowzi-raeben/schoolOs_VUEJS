(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{394:function(t,e,l){"use strict";l.d(e,"a",(function(){return n}));l(40);var n=function(){console.log("hitoryBackhitoryBackhitoryBack")}},447:function(t,e,l){"use strict";l.r(e);l(51),l(43),l(50),l(23),l(67),l(44),l(68);var n=l(27),o=(l(41),l(60),l(45)),_=l(394);function r(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(object);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,l)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?r(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):r(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={validate:function(t){var e=t.params;return/^\d+$/.test(e.id)},asyncData:function(t){var e=t.params;return console.log(e),{idx:e.id}},data:function(){return{params:{},paramsPost:{},paramsPostApply:{},a:1e8,albaMemo:""}},computed:c(c({},Object(o.f)(["LOGIN","LOADING"])),Object(o.d)(["GET_AXIOS_CALLBACK_GETTER","LOGIN_STUDENT"])),beforeCreate:function(){},mounted:function(){console.log(this.$nuxt,this.$config),this.params=this.LOGIN_STUDENT,this.params.type="albaView",this.params.idx=this.idx,this.GET_AXIOS(this.params),Object(_.a)()},methods:c(c(c({},Object(o.c)(["POST_AXIOS","GET_AXIOS","POST_AXIOS_FORM"])),Object(o.e)(["LOADING_INIT","LOADING_TRUE"])),{},{onSubmitApply:function(){},onSubmitCancel:function(){var t=this;if(!confirm("취소하면 이 알바는 다시 신청할 수 없어요\n정말 알바 신청을 취소하나요?"))return!1;this.LOADING_TRUE();var e=new FormData;e.append("type","albaCancel"),e.append("idx",this.params.idx),e.append("sms_idx",this.params.sms_idx),console.log(e),this.$axios.post("http://localhost:3095/student.php",e,{header:{"Context-Type":"multipart/form-data"}}).then((function(e){console.log(e.data),alert("알바 신청이 취소 되었어요"),t.$bvModal.hide("applyAlbago"),setTimeout((function(){t.params=t.LOGIN_STUDENT,t.params.type="albaView",t.params.idx=t.idx,t.GET_AXIOS(t.params)}))})).catch((function(t){console.error("AXIOS FALSE",t)}))},onSubmitApprovalPay:function(t){var e=this;if(!confirm("알바비를 지급하면 취소할 수 없어요?\n알바는 잘 마무리 되었나요?\n알바비를 지급할까요?"))return!1;this.LOADING_TRUE();var l=new FormData;l.append("type","albaApprovalPay"),l.append("idx",t),l.append("sms_idx",this.LOGIN_STUDENT.sms_idx),console.log(l),this.$axios.post("http://localhost:3095/student.php",l,{header:{"Context-Type":"multipart/form-data"}}).then((function(t){if(console.log(t.data),"FALSE"===t.data)return e.LOADING_INIT(),alert("금액이 부족해요.");alert("알바비가 지급되었어요"),e.$bvModal.hide("applyAlbago"),setTimeout((function(){e.params=e.LOGIN_STUDENT,e.params.type="albaView",e.params.idx=e.idx,e.GET_AXIOS(e.params)}))})).catch((function(t){console.error("AXIOS FALSE",t)}))},onSubmitApproval:function(t){var e=this;if(!confirm("채용 후에는 변경이 안돼요\n채용할까요?"))return!1;this.LOADING_TRUE();var l=new FormData;l.append("type","albaApproval"),l.append("idx",t),console.log(l),this.$axios.post("http://localhost:3095/student.php",l,{header:{"Context-Type":"multipart/form-data"}}).then((function(t){console.log(t.data),alert("채용되었습니다."),e.$bvModal.hide("applyAlbago"),setTimeout((function(){e.params=e.LOGIN_STUDENT,e.params.type="albaView",e.params.idx=e.idx,e.GET_AXIOS(e.params)}))})).catch((function(t){console.error("AXIOS FALSE",t)}))},onSubmitApplyPay:function(t){var e=this;if(!confirm("알바를 고용한 사람까지 완료해야 알바비를 받을 수 있어요.\n알바를 정말 완료했나요?"))return!1;this.LOADING_TRUE();var l=new FormData;l.append("type","albaApplyPay"),l.append("idx",t),console.log(l),this.$axios.post("http://localhost:3095/student.php",l,{header:{"Context-Type":"multipart/form-data"}}).then((function(t){console.log(t.data),alert("채용되었습니다."),e.$bvModal.hide("applyAlbago"),setTimeout((function(){e.params=e.LOGIN_STUDENT,e.params.type="albaView",e.params.idx=e.idx,e.GET_AXIOS(e.params)}))})).catch((function(t){console.error("AXIOS FALSE",t)}))},onSubmitComplete:function(){var t=this;this.LOADING_TRUE();var e=new FormData;e.append("type","albaApply"),e.append("idx",this.params.idx),e.append("sms_idx",this.params.sms_idx),e.append("smt_idx",this.LOGIN_STUDENT.smt_idx),e.append("memo",this.albaMemo),console.log(e),this.$axios.post("http://localhost:3095/student.php",e,{header:{"Context-Type":"multipart/form-data"}}).then((function(e){console.log(e.data),alert("알바 신청이 완료되었어요"),t.$bvModal.hide("applyAlbago"),setTimeout((function(){t.params=t.LOGIN_STUDENT,t.params.type="albaView",t.params.idx=t.idx,t.GET_AXIOS(t.params)}))})).catch((function(t){console.log("AXIOS FALSE",t)}))},onSubmitCEOCancel:function(){var t=this;if(!confirm("모집을 마감하면 채용공고를 다시 올려야 해요\n모집을 마감할까요?"))return!1;this.LOADING_TRUE();var e=new FormData;e.append("type","albaApplyCEOCancel"),e.append("idx",this.params.idx),console.log(e),this.$axios.post("http://localhost:3095/student.php",e,{header:{"Context-Type":"multipart/form-data"}}).then((function(e){console.log(e.data),alert("모집이 마감되었어요."),t.$bvModal.hide("applyAlbago"),setTimeout((function(){t.params=t.LOGIN_STUDENT,t.params.type="albaView",t.params.idx=t.idx,t.GET_AXIOS(t.params)}))})).catch((function(t){console.error("AXIOS FALSE",t)}))}})},T=l(59),component=Object(T.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"school-content"}},[t.LOADING?n("div",{attrs:{id:"LOADING"}},[n("img",{attrs:{src:l(276)}})]):t._e(),t._v(" "),n("div",{staticClass:"historyBack m-l-3 m-b-5"},[n("b-icon",{attrs:{icon:"arrow-left",onclick:"history.back()"}})],1),t._v(" "),t.GET_AXIOS_CALLBACK_GETTER.student&&"1"===t.GET_AXIOS_CALLBACK_GETTER.student.deposit?n("div",{staticClass:"text-center"},[n("h5",[t._v("지금은 이용할 수 없어요")])]):n("div",{staticClass:"content"},[n("div",{staticClass:"m-t-1 h60"},[n("div",{staticClass:"account"},[t.GET_AXIOS_CALLBACK_GETTER.albaDetail?n("div",{staticClass:"quest__content m-t-3"},[n("div",{staticClass:"box quest m-b-3"},[n("div",{staticClass:"flex"},[n("div",{staticClass:"label blue"}),t._v(" "),n("div",{staticClass:"flex-full m-l-3 m-r-3"},[n("div",{staticClass:"flex m-t-0"},[n("div",{staticClass:"txt"},[n("p",{staticClass:"bold"},[t._v("\n                      "+t._s(t.GET_AXIOS_CALLBACK_GETTER.albaDetail.subject)+"\n                    ")]),t._v(" "),n("span",[t._v(t._s(t._f("moment")(t.GET_AXIOS_CALLBACK_GETTER.albaDetail.start_day,"YY.MM.DD"))+"\n                      ~\n                      "+t._s(t._f("moment")(t.GET_AXIOS_CALLBACK_GETTER.albaDetail.end_day,"YY.MM.DD")))])]),t._v(" "),n("div",{staticClass:"pay text-right flex-right"})]),t._v(" "),n("div",{staticClass:"m-t-2 flex flex-full"},[n("div",[t._v("\n                    알바비\n                    "),n("strong",{staticClass:"bold font-18 m-l-1"},[n("em",[t._v(t._s(t._f("comma")(t.GET_AXIOS_CALLBACK_GETTER.albaDetail.pay)))])]),t._v(" "),t.LOGIN_STUDENT.t_reg_pay_unit?n("span",[t._v(t._s(t.LOGIN_STUDENT.t_reg_pay_unit))]):t._e()]),t._v(" "),n("div",{staticClass:"flex-right"},[n("span",{staticClass:"jelly-point m-t-0 jelly-background--type2 m-l-1 font-12"},[t._v("모집인원\n                      "),n("strong",[t._v(t._s(t.GET_AXIOS_CALLBACK_GETTER.albaDetail.personnel))]),t._v("\n                      명")])])])])])]),t._v(" "),t.GET_AXIOS_CALLBACK_GETTER.albaDetail.content?n("div",{staticClass:"m-l-3 m-r-3 img-full m-t-5",staticStyle:{"background-color":"#f2f3f5",padding:"10px","border-radius":"10px","white-space":"pre-line"},domProps:{innerHTML:t._s(t.GET_AXIOS_CALLBACK_GETTER.albaDetail.content)}}):t._e(),t._v(" "),t.GET_AXIOS_CALLBACK_GETTER.albaDetail&&t.LOGIN_STUDENT?n("div",[t.GET_AXIOS_CALLBACK_GETTER.albaDetail.sms_idx==t.LOGIN_STUDENT.sms_idx?n("div",{staticClass:"m-l-3 m-r-3 m-t-5"},t._l(t.GET_AXIOS_CALLBACK_GETTER.albApplyList,(function(e,i){return n("div",{key:i,staticClass:"m-b-5"},[n("div",{staticClass:"flex"},[n("div",[n("p",[t._v("\n                      "+t._s(e.reg_name)+"\n                    ")]),t._v(" "),n("span",{staticClass:"font-12 jelly-color--gray"},[t._v("\n                      "+t._s(t._f("moment")(e.datetime,"YY.MM.DD"))+"\n                    ")])]),t._v(" "),n("div",{staticClass:"flex-right"},["0"===e.status?n("button",{staticClass:"jelly-btn jelly-btn--default",on:{click:function(l){return t.onSubmitApproval(e.idx)}}},[t._v("\n                      채용하기\n                    ")]):t._e(),t._v(" "),"2"===e.status?n("button",{staticClass:"jelly-btn jelly-btn--gray",staticStyle:{"min-width":"89.84px"}},[t._v("\n                      취소됨\n                    ")]):t._e(),t._v(" "),"1"===e.status?n("button",{staticClass:"jelly-btn jelly-btn--pink",staticStyle:{"min-width":"89.84px"},on:{click:function(l){return t.onSubmitApprovalPay(e.idx)}}},[t._v("\n                      지급하기\n                    ")]):t._e(),t._v(" "),"3"===e.status?n("button",{staticClass:"jelly-btn jelly-btn--gray",staticStyle:{"min-width":"89.84px"}},[t._v("\n                      지급완료\n                    ")]):t._e()])]),t._v(" "),n("div",{staticClass:"m-t-2",staticStyle:{border:"1px solid #f2f3f5",padding:"10px","border-radius":"10px","white-space":"pre-line"},domProps:{innerHTML:t._s(e.memo)}})])})),0):t._e()]):t._e()]):t._e()])])]),t._v(" "),t.GET_AXIOS_CALLBACK_GETTER.student&&"1"!==t.GET_AXIOS_CALLBACK_GETTER.student.deposit?n("div",[t.GET_AXIOS_CALLBACK_GETTER.albaDetail&&t.LOGIN_STUDENT?n("div",[t.GET_AXIOS_CALLBACK_GETTER.albaDetail.sms_idx!=t.LOGIN_STUDENT.sms_idx?n("div",["END"===t.GET_AXIOS_CALLBACK_GETTER.is_end?n("div",{staticClass:"quest-fixed"},[n("button",{staticClass:"jelly-btn jelly-btn--gray"},[t._v("\n            기간이 종료되었습니다.\n          ")])]):t._e(),t._v(" "),t.GET_AXIOS_CALLBACK_GETTER.albaDetail?n("div",{staticClass:"quest-fixed flex"},["0"!==t.GET_AXIOS_CALLBACK_GETTER.albaDetail.status||t.GET_AXIOS_CALLBACK_GETTER.albaDetail.my_status?t._e():n("button",{staticClass:"jelly-btn jelly-btn--pink",on:{click:function(e){return t.$bvModal.show("applyAlbago")}}},[t._v("\n            신청하기\n          ")]),t._v(" "),"0"===t.GET_AXIOS_CALLBACK_GETTER.albaDetail.status&&"0"===t.GET_AXIOS_CALLBACK_GETTER.albaDetail.my_status?n("button",{staticClass:"jelly-btn jelly-btn--default",on:{click:t.onSubmitCancel}},[t._v("\n            취소하기\n          ")]):t._e(),t._v(" "),"0"===t.GET_AXIOS_CALLBACK_GETTER.albaDetail.status&&"1"===t.GET_AXIOS_CALLBACK_GETTER.albaDetail.my_status?n("button",{staticClass:"jelly-btn jelly-btn--pink"},[t._v("\n            채용되었어요! "),n("br"),t._v("알바 완료 후 고용주에게 요청하세요.\n          ")]):t._e(),t._v(" "),"0"===t.GET_AXIOS_CALLBACK_GETTER.albaDetail.status&&"2"===t.GET_AXIOS_CALLBACK_GETTER.albaDetail.my_status?n("button",{staticClass:"jelly-btn jelly-btn--gray"},[t._v("\n            취소된 알바 입니다.\n          ")]):t._e(),t._v(" "),"0"===t.GET_AXIOS_CALLBACK_GETTER.albaDetail.status&&"3"===t.GET_AXIOS_CALLBACK_GETTER.albaDetail.my_status?n("button",{staticClass:"jelly-btn jelly-btn--gray"},[t._v("\n            알바비가 지급되었어요\n          ")]):t._e(),t._v(" "),"1"===t.GET_AXIOS_CALLBACK_GETTER.albaDetail.status||"2"===t.GET_AXIOS_CALLBACK_GETTER.albaDetail.status?n("button",{staticClass:"jelly-btn jelly-btn--default"},[t._v("\n            모집이 완료되었어요.\n          ")]):t._e(),t._v(" "),"3"===t.GET_AXIOS_CALLBACK_GETTER.albaDetail.status?n("button",{staticClass:"jelly-btn jelly-btn--pink",on:{click:function(e){return t.$bvModal.show("completeFile")}}},[t._v("\n            취소된 공고입니다.\n          ")]):t._e()]):t._e()]):n("div",{staticClass:"quest-fixed"},["0"===t.GET_AXIOS_CALLBACK_GETTER.albaDetail.status?n("button",{staticClass:"jelly-btn jelly-btn--default",on:{click:t.onSubmitCEOCancel}},[t._v("\n          모집 마감하기\n        ")]):t._e(),t._v(" "),"1"===t.GET_AXIOS_CALLBACK_GETTER.albaDetail.status?n("button",{staticClass:"jelly-btn jelly-btn--gray",on:{click:t.onSubmitCEOCancel}},[t._v("\n          마감되었어요\n        ")]):t._e()])]):t._e()]):t._e(),t._v(" "),n("b-modal",{attrs:{id:"applyAlbago",size:"lg","hide-footer":"","hide-header":""}},[n("div",[n("p",[t._v("왜 알바를 신청하나요?")]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.albaMemo,expression:"albaMemo"}],staticClass:"jelly-text wd-full",staticStyle:{height:"200px"},domProps:{value:t.albaMemo},on:{input:function(e){e.target.composing||(t.albaMemo=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"m-t-5 flex"},[n("button",{staticClass:"jelly-btn jelly-btn--default",staticStyle:{width:"30%","border-radius":"0"},on:{click:function(e){return t.$bvModal.hide("applyAlbago")}}},[t._v("\n        취소하기\n      ")]),t._v(" "),n("button",{staticClass:"jelly-btn jelly-btn--pink flex-full",staticStyle:{"border-radius":"0"},on:{click:function(e){return t.onSubmitComplete()}}},[t._v("\n        신청하기\n      ")])])])],1)}),[],!1,null,null,null);e.default=component.exports}}]);