(window.webpackJsonp = window.webpackJsonp || []).push([[16], { 394: function (t, e, n) { "use strict"; n.d(e, "a", (function () { return o })); n(40); var o = function () { console.log("hitoryBackhitoryBackhitoryBack") } }, 442: function (t, e, n) { "use strict"; n.r(e); n(51), n(43), n(50), n(23), n(67), n(44), n(68); var o = n(27), c = (n(41), n(277), n(45)), r = n(394); function l(object, t) { var e = Object.keys(object); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(object); t && (n = n.filter((function (t) { return Object.getOwnPropertyDescriptor(object, t).enumerable }))), e.push.apply(e, n) } return e } function _(t) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? l(Object(source), !0).forEach((function (e) { Object(o.a)(t, e, source[e]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(source)) : l(Object(source)).forEach((function (e) { Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(source, e)) })) } return t } var m = { name: "ShopDetail", validate: function (t) { var e = t.params; return /^\d+$/.test(e.id) }, asyncData: function (t) { var e = t.params; return console.log(e), { idx: e.id } }, data: function () { return { params: {}, paramsPost: {}, a: 1e8, itemInt: 1 } }, computed: _(_({}, Object(c.f)(["LOGIN"])), Object(c.d)(["GET_AXIOS_CALLBACK_GETTER", "LOGIN_STUDENT"])), beforeCreate: function () { }, mounted: function () { console.log(this.$nuxt, this.$config), this.params = this.LOGIN_STUDENT, this.params.type = "shopView", this.params.idx = this.idx, this.GET_AXIOS(this.params), console.log(this.params), Object(r.a)() }, methods: _(_(_({}, Object(c.c)(["POST_AXIOS", "GET_AXIOS"])), Object(c.e)(["LOADING_TRUE"])), {}, { onClickModal: function () { var t = Number(this.GET_AXIOS_CALLBACK_GETTER.account.PtotalAccount) - Number(this.GET_AXIOS_CALLBACK_GETTER.account.MtotalAccount); console.log(t), t < Number(this.GET_AXIOS_CALLBACK_GETTER.item_price) * this.itemInt ? alert("잔액이 부족해요") : this.$bvModal.show("completeFile") }, onClickItemInt: function (t) { return "m" === t && 1 === this.itemInt ? alert("1개 이상 구매가 가능합니다.") : "p" === t && 10 === this.itemInt ? alert("최대 10개까지 구매가 가능합니다.") : this.itemInt + 1 > this.GET_AXIOS_CALLBACK_GETTER.item_int ? alert("재고수량보다 많이 선택되었어요.") : void ("m" === t ? this.itemInt-- : this.itemInt++) }, onSubmit: function () { if (this.paramsPost = this.LOGIN_STUDENT, this.paramsPost.idx = this.params.idx, this.paramsPost.itemInt = this.itemInt, this.paramsPost.itemPrice = this.GET_AXIOS_CALLBACK_GETTER.discount, this.paramsPost.type = "shopBuy", this.POST_AXIOS(this.paramsPost), console.log(this.paramsPost), !confirm("상품을 구매했어요\n나의 구매내역에서 확인할 수 있어요.\n이동할까요?")) return this.$bvModal.hide("completeFile"); this.$router.push("/item-list/0"), this.$bvModal.hide("completeFile") } }) }, d = n(59), component = Object(d.a)(m, (function () { var t = this, e = t.$createElement, n = t._self._c || e; return n("div", { attrs: { id: "school-content" } }, [n("div", { staticClass: "historyBack m-l-3 m-b-5" }, [n("b-icon", { attrs: { icon: "arrow-left", onclick: "history.back()" } })], 1), t._v(" "), t.GET_AXIOS_CALLBACK_GETTER ? n("div", { staticClass: "content", staticStyle: { "padding-bottom": "100px" } }, [n("div", { staticClass: "m-t-1 h60" }, [n("div", { staticClass: "account" }, [t.GET_AXIOS_CALLBACK_GETTER.item_name ? n("div", { staticClass: "quest__content m-t-3" }, [n("p", { staticClass: "bold m-l-3 m-r-3", staticStyle: { "font-size": "20px" } }, [t._v("\n            " + t._s(t.GET_AXIOS_CALLBACK_GETTER.item_name) + "\n          ")]), t._v(" "), n("div", { staticClass: "shopDetailImage" }, [t.GET_AXIOS_CALLBACK_GETTER.item_thumb ? n("img", { attrs: { src: "https://api.school-os.net/data/teacher/shop/" + t.GET_AXIOS_CALLBACK_GETTER.item_thumb } }) : t._e(), t._v(" "), t.GET_AXIOS_CALLBACK_GETTER.item_thumb ? t._e() : n("div", [n("b-icon", { attrs: { icon: "flower2" } })], 1)]), t._v(" "), n("div", { staticClass: "box quest m-b-3 m-l-3 m-r-3" }, [n("div", { staticClass: "flex" }, [n("div", { staticClass: "flex-full m-l-3 m-r-3" }, [n("div", { staticClass: "flex m-t-0" }, [n("div", { staticClass: "txt" }, [n("p", { staticClass: "bold" }, [t._v("\n                      " + t._s(t._f("comma")(t.GET_AXIOS_CALLBACK_GETTER.item_price)) + "\n                    ")]), t._v(" "), n("p", { staticClass: "m-t-1" }, [t._v("\n                      남은 수량 : " + t._s(t.GET_AXIOS_CALLBACK_GETTER.item_int) + "\n                    ")]), t._v(" "), n("span", { staticClass: "jelly-color--888", staticStyle: { "font-size": "12px" } }, [t._v("\n                      " + t._s(t._f("moment")(t.GET_AXIOS_CALLBACK_GETTER.end_day, "YY.MM.DD")) + "\n                      까지만 구매할 수 있어요.\n                    ")]), t._v(" "), n("div", { staticClass: "m-t-2 itemInt flex" }, [n("button", { on: { click: function (e) { return t.onClickItemInt("m") } } }, [t._v("-")]), t._v(" "), n("input", { directives: [{ name: "model", rawName: "v-model", value: t.itemInt, expression: "itemInt" }], staticClass: "text-center", attrs: { type: "tel", readonly: "" }, domProps: { value: t.itemInt }, on: { input: function (e) { e.target.composing || (t.itemInt = e.target.value) } } }), t._v(" "), n("button", { on: { click: function (e) { return t.onClickItemInt("p") } } }, [t._v("+")])])]), t._v(" "), n("div", { staticClass: "pay text-right flex-right" })]), t._v(" "), t.GET_AXIOS_CALLBACK_GETTER.item_content ? n("div", { staticClass: "m-t-5 img-full", staticStyle: { "background-color": "#f2f3f5", padding: "10px", "border-radius": "10px", "white-space": "pre-line" }, domProps: { innerHTML: t._s(t.GET_AXIOS_CALLBACK_GETTER.item_content) } }) : t._e()])])]), t._v(" "), t.GET_AXIOS_CALLBACK_GETTER.contents ? n("div", { staticClass: "m-l-3 m-r-3", staticStyle: { "background-color": "#f2f3f5", padding: "10px", "border-radius": "10px" }, domProps: { innerHTML: t._s(t.GET_AXIOS_CALLBACK_GETTER.contents) } }) : t._e()]) : t._e()])])]) : t._e(), t._v(" "), "N" === t.GET_AXIOS_CALLBACK_GETTER.is_end ? n("div", { staticClass: "quest-fixed" }, [n("button", { staticClass: "jelly-btn jelly-btn--pink", on: { click: t.onClickModal } }, [n("span", [t._v(t._s(t._f("comma")(Number(t.GET_AXIOS_CALLBACK_GETTER.item_price) * t.itemInt)))]), t._v(" "), t.LOGIN_STUDENT.t_reg_pay_unit ? n("span", [t._v(t._s(t.LOGIN_STUDENT.t_reg_pay_unit))]) : t._e(), t._v("\n      구매하기\n    ")])]) : t._e(), t._v(" "), "Y" === t.GET_AXIOS_CALLBACK_GETTER.is_end ? n("div", { staticClass: "quest-fixed" }, [n("button", { staticClass: "jelly-btn jelly-btn--gray" }, [t._v("기간이 종료되었습니다.")])]) : t._e(), t._v(" "), n("b-modal", { attrs: { id: "completeFile", size: "lg", "hide-footer": "", "hide-header": "" } }, [n("div", [n("p", [t._v("상품을 구매하시겠습니까?")])]), t._v(" "), n("div", { staticClass: "m-t-5 flex" }, [n("button", { staticClass: "jelly-btn jelly-btn--default m-r-1 flex-full", staticStyle: { "border-radius": "0" }, on: { click: function (e) { return t.$bvModal.hide("completeFile") } } }, [t._v("\n        취소하기\n      ")]), t._v(" "), n("button", { staticClass: "jelly-btn jelly-btn--pink flex-full m-l-1", staticStyle: { "border-radius": "0" }, on: { click: function (e) { return t.onSubmit() } } }, [t._v("\n        구매하기\n      ")])])])], 1) }), [], !1, null, null, null); e.default = component.exports } }]);