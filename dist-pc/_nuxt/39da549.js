(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{443:function(t,e,n){"use strict";n.r(e);n(53),n(45),n(52),n(69),n(70);var l=n(29),r=(n(48),n(23),n(44),n(75),n(54)),c=n(391);function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function o(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={layout:"default-pc",data:function(){return{params:{},isBtnActive:!0,studentList:{classNumber:[],name:[]},getStudent:{id:[],pw:[],name:[],classNumber:[]}}},computed:o(o({},Object(r.f)(["LOGIN"])),Object(r.d)(["GET_AXIOS_CALLBACK_GETTER","LOGIN_TEACHER"])),beforeCreate:function(){},mounted:function(){console.log(this.$nuxt,this.$config),this.params=this.LOGIN_TEACHER,this.params.type="studentAll",this.GET_AXIOS(this.params)},methods:o(o(o({},Object(r.c)(["POST_AXIOS","GET_AXIOS"])),Object(r.e)(["LOADING_TRUE"])),{},{readFile:function(t){var e=this;if(this.file=t.target.files?t.target.files[0]:null,this.file){var n=new FileReader;this.studentList.classNumber=[],this.studentList.name=[],n.onload=function(t){var n=t.target.result,l=c.a(n,{type:"binary"}),r=l.SheetNames[0],_=l.Sheets[r];if(c.b.sheet_to_json(_,{header:1}).forEach((function(element,t){2===element.length&&0!==t&&(e.studentList.classNumber.push(element[0]),e.studentList.name.push(element[1]))})),console.log(e.studentList),0===e.studentList.name.length)return alert("잘못된 파일 입니다.");e.isBtnActive=!1},n.readAsBinaryString(this.file)}},onSubmit:function(){var t=this;this.LOADING_TRUE();var e=new FormData;e.append("smt_idx",this.LOGIN_TEACHER.smt_idx),e.append("classNumber",this.studentList.classNumber),e.append("studentName",this.studentList.name),e.append("type","studentAllInsert"),this.$axios.post("http://localhost:3095/teacher.php",e,{header:{"Context-Type":"multipart/form-data"}}).then((function(e){console.log(e),setTimeout((function(){t.params=t.LOGIN_TEACHER,t.params.type="studentAll",t.GET_AXIOS(t.params)}))})).catch((function(t){console.log("AXIOS FALSE",t)}))}})},v=n(84),component=Object(v.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{},[n("div",{staticClass:"flex"},[t.LOGIN_TEACHER?n("h4",{staticClass:"is_active"},[t._v("학생등록")]):t._e(),t._v(" "),n("button",{staticClass:"jelly-btn jelly-btn--default flex-right",attrs:{onclick:"window.open('/pc/sample.xlsx')"}},[t._v("\n        엑셀 샘플 다운로드\n      ")])]),t._v(" "),n("div",{staticStyle:{"padding-top":"0vh"},attrs:{id:"jellyAdminheader"}},[n("div",{staticClass:" "},[n("div",{},[n("div",{staticClass:"m-t-5"},[n("p",[t._v("\n              우측 상단 다운로드를 통해 학생이름을 나열하여 업로드 해주세요\n            ")]),t._v(" "),n("div",{staticClass:"item wd-full flex",staticStyle:{width:"100%"}},[n("input",{staticClass:"jelly-text jelly-text--h",attrs:{type:"file",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},on:{change:t.readFile}}),t._v(" "),t.GET_AXIOS_CALLBACK_GETTER.studentList?t._e():n("button",{staticClass:"jelly-btn jelly-btn--pink jelly-text--h m-l-2",attrs:{disabled:t.isBtnActive},on:{click:t.onSubmit}},[t._v("\n                저장하기\n              ")])]),t._v(" "),n("div",{staticClass:"m-t-5"},[n("div",[t._m(0),t._v(" "),t.GET_AXIOS_CALLBACK_GETTER.studentList?t._e():n("table",{staticClass:"jelly-table wd-full"},[n("col",{staticStyle:{width:"100px"}}),t._v(" "),n("col",{staticStyle:{width:"150px"}}),t._v(" "),n("col",{staticStyle:{width:"auto"}}),t._v(" "),n("col",{staticStyle:{width:"auto"}}),t._v(" "),t._m(1),t._v(" "),t._l(t.studentList.name,(function(e,i){return n("tr",{key:i},[n("td",[t._v("\n                      "+t._s(t.studentList.classNumber[i])+"\n                    ")]),t._v(" "),n("td",[t._v("\n                      "+t._s(e)+"\n                    ")]),t._v(" "),n("td"),t._v(" "),n("td")])}))],2),t._v(" "),t.GET_AXIOS_CALLBACK_GETTER.studentList?n("table",{staticClass:"jelly-table wd-full"},[n("col",{staticStyle:{width:"100px"}}),t._v(" "),n("col",{staticStyle:{width:"150px"}}),t._v(" "),n("col",{staticStyle:{width:"auto"}}),t._v(" "),n("col",{staticStyle:{width:"auto"}}),t._v(" "),t._m(2),t._v(" "),t._l(t.GET_AXIOS_CALLBACK_GETTER.studentList,(function(e,i){return n("tr",{key:i},[n("td",[t._v("\n                      "+t._s(e.classNumber)+"\n                    ")]),t._v(" "),n("td",[t._v("\n                      "+t._s(e.reg_name)+"\n                    ")]),t._v(" "),n("td",[t._v("\n                      "+t._s(e.reg_id)+"\n                    ")]),t._v(" "),n("td",[t._v("\n                      "+t._s(e.reg_pw)+"\n                    ")])])}))],2):t._e()])])])])])])])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("\n                  학생 목록을 확인 후 "),n("em",{staticClass:"bold"},[t._v("저장하기")]),t._v("를\n                  눌러주세요\n                  "),n("br"),t._v("\n                  저장하기를 누르시면 아이디와 패스워드가 자동 생성됩니다.\n                ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",[t._v("출석번호")]),t._v(" "),n("th",[t._v("이름")]),t._v(" "),n("th",[t._v("아이디")]),t._v(" "),n("th",[t._v("비밀번호")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",[t._v("출석번호")]),t._v(" "),n("th",[t._v("이름")]),t._v(" "),n("th",[t._v("아이디")]),t._v(" "),n("th",[t._v("비밀번호")])])}],!1,null,null,null);e.default=component.exports}}]);